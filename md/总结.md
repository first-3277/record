## 1.4 从 url 输入到渲染页面

- url 是否合法, 合法进入网络进程
- 网络进程判断是否缓存和改资源, 未缓存进入 dns 解析
- dns 递归查询, 浏览器缓存--> 系统缓存(hots) --> 路由器缓存 --> IPS 缓存
- 无缓存则发起 http 请求
- 发起 http 请求, 判断是否有强制缓存(Cache-Control, Expires), 协商缓存(Etag, Modified)
- 解析响应的 http
- 构建 dom 树
- 构建 css 树
- 构建 layout 树
- 计算位置, 映射到 layout 树
- 分层
- 合成线程将图层分块(防止解析第二屏从而影响效率), 分块后交给 GPU
- GPU 拿到后合成, 丢回给合成线程
- 合成线程拿到后显示渲染

## 1.1 react 和 vue

1. 更新
   - 默认情况下更新状态 react 子组件都会跟着更新**react 只能知道状态更新了无法知道哪里更新了**
   - vue 只会更新当前用到该状态的组件**vue 收集依赖机制能够精确到哪里发生了变化, 采用一个组件为一个 watcher**
2. 优化策略
   - react 采用的是快速响应用户**jsx 灵活动态的, fiber**
   - vue 采用是优化每个任务, 挤压 CPU 运算量**模版语法是静态的可以标记, 只对比动态的地方**
3. 数据
   - react 采用的是数据不可变直接覆盖
   - vue 采用的是数据响应式
4. 总结
   - vue 像封装好了的一样, 有很多 api, 而 react 比较灵活用的 jsx, 能在 js 中写 html
5. react 优势
   - react 原数据不可变恢复初始值更加方便(取消弹窗页面数据恢复到初始设置), vue 直接覆盖想恢复到初始值至少要克隆两次**第一次: 默认值 第二次: 取消恢复初始设置**
   -
6. vue 优势
   -
